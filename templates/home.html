{% extends "index.html" %}
{% block content %}
    <h1 class="ui center aligned huge white header" style="color:white;">Stocks</h1>
    <div class="ui divider"></div>
    
    
    
    <form action="/?search={{ searchInput }}" method="get">
       <div class="ui fluid icon big input">
            <input type="text" placeholder="Search stocks..." id="searchInput" name="searchInput">
            <i class="search icon"></i>
        </div>
        <div class="ui divider"></div>
        <button type="submit" class="ui fluid button" id="searchButton">Search</button>
    </form>
    
    
    <div class="ui divider"></div>
    <table class="ui selectable table">
        <thead>
            <tr>
                <th>Symbol</th>
                <th>Name</th>
                <th>Recent Close</th>
            </tr>
        </thead>
        <tbody>
            {% for stock in stocks %}
            <tr>
                <td>{{ stock.symbol }}</td>
                <td><a href="/stock/{{  stock.symbol  }}">{{ stock.name }}</a></td>
                <td>{{ stock.recent_price }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    
    <div class="ui divider"></div> 
    
    <div class="ui fluid pagination menu">
        <a class="icon item left attached" href="/?page={{ prev_page }}"> 
            <i class="left chevron icon"></i>
        </a>

        <div style="overflow-x: auto; white-space: nowrap; display: flex; flex-direction: row;">
            {% for page_num in range(1, pages) %}
                <a class="item" href="/?page={{ page_num }}">{{ page_num }}</a>
            {% endfor %}
        </div>

        <a class="icon item right attached" href="/?page={{ next_page }}">
            <i class="right chevron icon"></i>
        </a>
    </div>
        
    
{% endblock %}