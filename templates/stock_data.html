<!-- htmlhint disable -->
<!-- eslint disable -->
{% extends "index.html" %}
{% block content %}
    <div class="ui header">
    <h1 class="ui huge header center aligned" style="color: white;">{{ stock.name }}</h1>
    <button class="ui button float right" onclick=add_favorite_stock(stock.id)>Add to Favorites</button>
    </div>
    <div class="ui divider"></div>
    <h2 class="ui header center aligned" style="color: white;">Recent Stock Data</h2>
    <div class="ui divider"></div>
    
    </div> <!-- Closing the UI container from the index file -->
        <div style="display: flex; justify-content: center; align-items: center; height: 40vh; width: 80vw; margin: auto;">
            <!-- TradingView Widget BEGIN -->
            <div class="tradingview-widget-container">
                <div class="tradingview-widget-container__widget"></div>
                    <div class="tradingview-widget-copyright"><a href="https://www.tradingview.com/" rel="noopener nofollow" target="_blank"><span class="blue-text">Track all markets on TradingView</span></a></div>
                            <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js" async>
                            {
                                "width": "100%",
                                "height": "100%",
                                "symbol": "{{stock.exchange}}:{{stock.symbol}}",
                                "interval": "30",
                                "timezone": "Etc/UTC",
                                "theme": "dark",
                                "style": "1",
                                "locale": "en",
                                "enable_publishing": false,
                                "allow_symbol_change": true,
                                "studies": [
                                "STD;Bollinger_Bands"
                                ],
                                "support_host": "https://www.tradingview.com"
                            }
                            </script>
            </div>
            <!-- TradingView Widget END -->
        </div>
    
        <!-- Open UI container from index file -->
    <div class="ui container">

    <div class="ui divider"></div>
    <h2 class="ui header center aligned">Historical Stock Data</h2>

    <table class="ui selectable inverted table">
        <thead>
            <tr>
                <th>Date</th>
                <th>Open</th>
                <th>High</th>
                <th>Low</th>
                <th>Close</th>
                <th>Volume</th>
            </tr>
        </thead>
        <tbody>
            {% for price in prices %}
                <tr>
                    <td>{{ price.date }}</td>
                    <td>{{ price.open }}</td>
                    <td>{{ price.high }}</td>
                    <td>{{ price.low }}</td>
                    <td>{{ price.close }}</td>
                    <td>{{ price.volume }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}

